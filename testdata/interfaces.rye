example: import\go "example.com"

do\par example {
    x: NewX "hello from X"
    i:: IToOpaque x
    i .Hello
    print i

    i:: IToOpaque NewY 10
    i .Hello
    print i

    i:: IToOpaque NewZ "hello from Z"
    i .Hello
    print i

    i:: IToOpaque NewW 42
    i .Hello
    print i

    i:: ToAnyOpaque NewX "hello from any of type X"
    i .Hello
    print i

    I nil |is-nil |print

    g: context {
        prefix: "Greeter: "
        Greet: fn { name } {
            print prefix ++ "Hello, " ++ name
        }
    }
    RunGreeter g "world"
    RunGreeter do { Greeter g } "world1" ; we should be able to pass a constructed native
    RunGreeterI do { Greeter g } "world2" ; we should be able to pass a constructed native to a function accepting a different but equivalent interface

    i:: Printer context {
        Print: fn { args } {
            print args
        }
    }
    RunPrinter i
}